# MongoDB Connection
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/notestasksdb?retryWrites=true&w=majority

# Server Configuration
PORT=3000
NODE_ENV=development

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:8080,http://127.0.0.1:8080

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=10

# AI Endpoint Rate Limiting (prevents computational DoS)
AI_RATE_LIMIT_WINDOW_MS=3600000
AI_RATE_LIMIT_MAX_REQUESTS=10

# Deep Link Rate Limiting (prevents token brute force)
DEEP_LINK_RATE_LIMIT_WINDOW_MS=900000
DEEP_LINK_RATE_LIMIT_MAX_REQUESTS=20

# Public Endpoint Rate Limiting (prevents scraping)
PUBLIC_RATE_LIMIT_WINDOW_MS=900000
PUBLIC_RATE_LIMIT_MAX_REQUESTS=50

# Ollama Cloud API Configuration
OLLAMA_API_URL=https://ollama.com/api/chat
OLLAMA_API_KEY=your-ollama-api-key-here
# Available models: gpt-oss:120b, deepseek-r1:671b, qwen2.5:72b, llama3.3:70b
OLLAMA_MODEL=gpt-oss:120b

# Email Configuration (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxx
RESEND_FROM_EMAIL=notifications@yourdomain.com
RESEND_FROM_NAME=Notes & Tasks App

# Email Notification Settings
EMAIL_RETRY_ATTEMPTS=3
EMAIL_RETRY_DELAY_MS=1000
EMAIL_BATCH_SIZE=50

# Push Notification Settings (Web Push)
# Generate VAPID keys by running: node src/scripts/generateVapidKeys.js
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:your-email@example.com
PUSH_RETRY_ATTEMPTS=3
PUSH_RETRY_DELAY_MS=1000

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT_MS=60000

# Deep Link Configuration
DEEP_LINK_SECRET=your-deep-link-secret-key-change-this-in-production
FRONTEND_BASE_URL=http://localhost:5173
SUPPORT_EMAIL=support@yourdomain.com

# Notification Cron Configuration
# Runs every hour to check each user's preferred notification time
# Format: minute hour day month weekday
# 0 * * * * = every hour at minute 0 (1:00, 2:00, 3:00, etc.) - RECOMMENDED
# */15 * * * * = every 15 minutes (more responsive, higher server load)
# 0 9 * * * = once daily at 9 AM UTC (NOT recommended - ignores user preferences)
NOTIFICATION_CRON_SCHEDULE=0 * * * *
NOTIFICATION_TIMEZONE=UTC

# Notification Cleanup Configuration
NOTIFICATION_CLEANUP_CRON_SCHEDULE=0 2 * * 0
NOTIFICATION_LOGS_RETENTION_DAYS=90
